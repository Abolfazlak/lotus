2023-11-09 14:35:58.291 +03:30  INF  User profile is available. Using '/Users/abolfazl/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-11-09 14:35:58.346 +03:30  INF  Now listening on: http://localhost:7273
2023-11-09 14:35:58.347 +03:30  INF  Application started. Press Ctrl+C to shut down.
2023-11-09 14:35:58.347 +03:30  INF  Hosting environment: Development
2023-11-09 14:35:58.347 +03:30  INF  Content root path: /Users/abolfazl/Projects/lotus/lotus/lotus/lotus
2023-11-09 14:35:59.541 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/swagger/index.html - -
2023-11-09 14:35:59.593 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/swagger/index.html - - - 200 - text/html;charset=utf-8 51.9340ms
2023-11-09 14:35:59.987 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/swagger/v1/swagger.json - -
2023-11-09 14:36:00.029 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 42.8089ms
2023-11-09 14:36:11.827 +03:30  INF  Request starting HTTP/1.1 POST http://localhost:7273/api/Authenticate/login application/json 47
2023-11-09 14:36:11.838 +03:30  INF  CORS policy execution successful.
2023-11-09 14:36:11.881 +03:30  INF  Executing endpoint 'JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus)'
2023-11-09 14:36:11.894 +03:30  INF  Route matched with {action = "Login", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(lotus.Models.Authenticate.LoginModel) on controller JWTRefreshToken.NET6._0.Controllers.AuthenticateController (lotus).
2023-11-09 14:36:12.137 +03:30  INF  Entity Framework Core 5.0.17 initialized 'UserDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-11-09 14:36:12.414 +03:30  INF  Executed DbCommand (38ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsAdmin], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Mobile], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-09 14:36:12.514 +03:30  INF  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-09 14:36:12.525 +03:30  INF  Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsAdmin], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Mobile], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-09 14:36:12.571 +03:30  INF  Executed DbCommand (15ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p21='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [IsAdmin] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Mobile] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
SELECT @@ROWCOUNT;
2023-11-09 14:36:12.580 +03:30  INF  Seri Log is Working
2023-11-09 14:36:12.616 +03:30  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-09 14:36:12.620 +03:30  INF  Executed action JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus) in 725.2109ms
2023-11-09 14:36:12.621 +03:30  INF  Executed endpoint 'JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus)'
2023-11-09 14:36:12.622 +03:30  INF  Request finished HTTP/1.1 POST http://localhost:7273/api/Authenticate/login application/json 47 - 200 - application/json;+charset=utf-8 795.2842ms
2023-11-09 14:51:08.923 +03:30  INF  User profile is available. Using '/Users/abolfazl/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-11-09 14:51:08.986 +03:30  INF  Now listening on: http://localhost:7273
2023-11-09 14:51:08.986 +03:30  INF  Application started. Press Ctrl+C to shut down.
2023-11-09 14:51:08.986 +03:30  INF  Hosting environment: Development
2023-11-09 14:51:08.986 +03:30  INF  Content root path: /Users/abolfazl/Projects/lotus/lotus/lotus/lotus
2023-11-09 14:51:10.289 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/swagger/index.html - -
2023-11-09 14:51:10.347 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/swagger/index.html - - - 200 - text/html;charset=utf-8 58.6509ms
2023-11-09 14:51:10.648 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/swagger/v1/swagger.json - -
2023-11-09 14:51:10.691 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.4612ms
2023-11-09 14:51:26.282 +03:30  INF  Request starting HTTP/1.1 POST http://localhost:7273/api/Authenticate/login application/json 47
2023-11-09 14:51:26.292 +03:30  INF  CORS policy execution successful.
2023-11-09 14:51:26.335 +03:30  INF  Executing endpoint 'JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus)'
2023-11-09 14:51:26.348 +03:30  INF  Route matched with {action = "Login", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(lotus.Models.Authenticate.LoginModel) on controller JWTRefreshToken.NET6._0.Controllers.AuthenticateController (lotus).
2023-11-09 14:51:26.593 +03:30  INF  Entity Framework Core 5.0.17 initialized 'UserDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-11-09 14:51:26.846 +03:30  INF  Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsAdmin], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Mobile], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-09 14:51:26.933 +03:30  INF  Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsAdmin], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Mobile], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-09 14:51:26.973 +03:30  INF  Executed DbCommand (10ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p21='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [IsAdmin] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Mobile] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
SELECT @@ROWCOUNT;
2023-11-09 14:51:26.985 +03:30  INF  user log in successfuly with id:53c4d9b8-6beb-49c3-913b-674fc343b7b2
2023-11-09 14:51:27.019 +03:30  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-09 14:51:27.024 +03:30  INF  Executed action JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus) in 674.5577ms
2023-11-09 14:51:27.024 +03:30  INF  Executed endpoint 'JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus)'
2023-11-09 14:51:27.026 +03:30  INF  Request finished HTTP/1.1 POST http://localhost:7273/api/Authenticate/login application/json 47 - 200 - application/json;+charset=utf-8 743.7824ms
2023-11-09 15:28:36.939 +03:30  INF  User profile is available. Using '/Users/abolfazl/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-11-09 15:28:36.995 +03:30  INF  Now listening on: http://localhost:7273
2023-11-09 15:28:36.995 +03:30  INF  Application started. Press Ctrl+C to shut down.
2023-11-09 15:28:36.995 +03:30  INF  Hosting environment: Development
2023-11-09 15:28:36.995 +03:30  INF  Content root path: /Users/abolfazl/Projects/lotus/lotus/lotus/lotus
2023-11-09 15:28:38.387 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/swagger/index.html - -
2023-11-09 15:28:38.469 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/swagger/index.html - - - 200 - text/html;charset=utf-8 81.8279ms
2023-11-09 15:28:38.803 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/swagger/v1/swagger.json - -
2023-11-09 15:28:38.846 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.4913ms
2023-11-09 15:28:51.692 +03:30  INF  Request starting HTTP/1.1 POST http://localhost:7273/api/Authenticate/login application/json 47
2023-11-09 15:28:51.703 +03:30  INF  CORS policy execution successful.
2023-11-09 15:28:51.746 +03:30  INF  Executing endpoint 'JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus)'
2023-11-09 15:28:51.759 +03:30  INF  Route matched with {action = "Login", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(lotus.Models.Authenticate.LoginModel) on controller JWTRefreshToken.NET6._0.Controllers.AuthenticateController (lotus).
2023-11-09 15:28:51.997 +03:30  INF  Entity Framework Core 5.0.17 initialized 'UserDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-11-09 15:28:52.293 +03:30  INF  Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsAdmin], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Mobile], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-09 15:28:52.386 +03:30  INF  Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsAdmin], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Mobile], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-09 15:28:52.425 +03:30  INF  Executed DbCommand (8ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p21='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [IsAdmin] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Mobile] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
SELECT @@ROWCOUNT;
2023-11-09 15:28:52.435 +03:30  INF  user log in successfuly with id:53c4d9b8-6beb-49c3-913b-674fc343b7b2
2023-11-09 15:28:52.470 +03:30  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-09 15:28:52.475 +03:30  INF  Executed action JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus) in 714.1562ms
2023-11-09 15:28:52.475 +03:30  INF  Executed endpoint 'JWTRefreshToken.NET6._0.Controllers.AuthenticateController.Login (lotus)'
2023-11-09 15:28:52.477 +03:30  INF  Request finished HTTP/1.1 POST http://localhost:7273/api/Authenticate/login application/json 47 - 200 - application/json;+charset=utf-8 784.8901ms
2023-11-09 15:29:15.811 +03:30  INF  Request starting HTTP/1.1 GET http://localhost:7273/api/Product/GetAllProducts - -
2023-11-09 15:29:15.859 +03:30  INF  Successfully validated the token.
2023-11-09 15:29:15.863 +03:30  INF  Executing endpoint 'lotus.Controllers.ProductController.GetAllProductsDetails (lotus)'
2023-11-09 15:29:15.866 +03:30  INF  Route matched with {action = "GetAllProductsDetails", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProductsDetails() on controller lotus.Controllers.ProductController (lotus).
2023-11-09 15:29:15.900 +03:30  INF  Entity Framework Core 5.0.17 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-11-09 15:29:15.950 +03:30  INF  Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[name], [p].[price], [p].[photoUrl], [p0].[id], [p0].[name]
FROM [Product] AS [p]
LEFT JOIN [ProductDetail] AS [p0] ON [p].[id] = [p0].[productId]
ORDER BY [p].[id], [p0].[id]
2023-11-09 15:29:15.953 +03:30  INF  user get product list
2023-11-09 15:29:15.953 +03:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[lotus.Models.Products.ProductDto, lotus, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-09 15:29:15.954 +03:30  INF  Executed action lotus.Controllers.ProductController.GetAllProductsDetails (lotus) in 88.0789ms
2023-11-09 15:29:15.954 +03:30  INF  Executed endpoint 'lotus.Controllers.ProductController.GetAllProductsDetails (lotus)'
2023-11-09 15:29:15.955 +03:30  INF  Request finished HTTP/1.1 GET http://localhost:7273/api/Product/GetAllProducts - - - 200 - application/json;+charset=utf-8 143.6446ms
